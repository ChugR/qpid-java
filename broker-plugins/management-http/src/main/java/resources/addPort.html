<!--
 -
 - Licensed to the Apache Software Foundation (ASF) under one
 - or more contributor license agreements.  See the NOTICE file
 - distributed with this work for additional information
 - regarding copyright ownership.  The ASF licenses this file
 - to you under the Apache License, Version 2.0 (the
 - "License"); you may not use this file except in compliance
 - with the License.  You may obtain a copy of the License at
 -
 -   http://www.apache.org/licenses/LICENSE-2.0
 -
 - Unless required by applicable law or agreed to in writing,
 - software distributed under the License is distributed on an
 - "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 - KIND, either express or implied.  See the License for the
 - specific language governing permissions and limitations
 - under the License.
 -
 -->
<div class="dijitHidden">
    <div data-dojo-type="dijit.Dialog" data-dojo-props="title:'Port'" id="addPort">
        <form id="formAddPort" method="post" dojoType="dijit.form.Form">
            <div style="height:320px; width:420px; overflow: auto">
            <div class="hidden" id="portEditWarning">NOTE: changes will only take effect after Broker restart.</div>
            <div id="formAddPort:fields">
                <input id="formAddPort.name" type="text"
                    dojoType="dijit.form.ValidationTextBox"
                    data-dojo-props="
                        name: 'name',
                        label: 'Port Number*:',
                        required: 'true',
                        placeHolder: 'name',
                        promptMessage: 'Name of port, must be unique',
                        title: 'Enter name of port'"/>

                <input id="formAddPort.port" type="text"
                    dojoType="dijit.form.ValidationTextBox"
                    data-dojo-props="
                        name: 'port',
                        label: 'Port Number*:',
                        required: 'true',
                        placeHolder: 'port number',
                        promptMessage: 'Port number to be bound',
                        title: 'Enter port number'"/>
                <select id="formAddPort.type"
                    data-dojo-type="dijit.form.FilteringSelect"
                    data-dojo-props="
                        name: 'type',
                        label: 'Port Type*:',
                        value: '',
                        placeHolder: 'port type',
                        promptMessage: 'Port type',
                        title: 'Enter port type'">
                    <option value="AMQP" selected="selected">AMQP</option>
                    <option value="JMX">JMX</option>
                    <option value="HTTP">HTTP</option>
                </select>
            </div>
            <div id="formAddPort:fieldsAuthenticationProvider">
                <select id="formAddPort.authenticationProvider"
                        data-dojo-type="dijit.form.FilteringSelect"
                        data-dojo-props="
                            name: 'authenticationProvider',
                            label: 'Authentication Provider*:',
                            searchAttr: 'name',
                            required: true,
                            placeHolder: 'provider',
                            promptMessage: 'Authentication provider to authenticate users connecting to the port',
                            title: 'Associate the port with an authentication provider'">
                </select>
            </div>
            <div id="formAddPort:fieldsBindingAddress">
                <input id="formAddPort.bindingAddress" type="text"
                       data-dojo-type="dijit.form.ValidationTextBox"
                       data-dojo-props="
                            name: 'bindingAddress',
                            label: 'Binding address:',
                            placeHolder: 'binding address',
                            promptMessage: 'Restricts the port to listen on the specified address only. The <code>*</code> wildcard signifies all addresses',
                            title: 'Enter a binding address'"/>
            </div>
            <div id="formAddPort:fieldsAMQP">
                <input id="formAddPort.protocolsDefault" type="checkbox"
                       checked="checked"
                       dojoType="dijit.form.CheckBox"
                       data-dojo-props="label: 'Support default protocols:'"/>
                <select id="formAddPort.protocolsAMQP"
                        data-dojo-type="dijit.form.MultiSelect"
                        data-dojo-props="
                            name: 'protocols',
                            label: 'AMQP protocols:',
                            value: '',
                            placeHolder: 'AMQP protocols',
                            promptMessage: 'AMQP protocols to be associated with this port',
                            title: 'Select AMQP protocols to be associated with this port',
                            multiple: true">
                    <option value="AMQP_0_8">AMQP 0.8</option>
                    <option value="AMQP_0_9">AMQP 0.9</option>
                    <option value="AMQP_0_9_1">AMQP 0.9.1</option>
                    <option value="AMQP_0_10">AMQP 0.10</option>
                    <option value="AMQP_1_0">AMQP 1.0</option>
                </select>
            </div>
            <div id="formAddPort:fieldsJMX">
                <select id="formAddPort.protocolsJMX"
                        data-dojo-type="dijit.form.FilteringSelect"
                        data-dojo-props="
                            name: 'protocols',
                            value: '',
                            label: 'JMX protocol*:',
                            promptMessage: 'JMX protocol to be associated with this port',
                            title: 'Enter JMX protocol to be associated with this port'">
                     <option value="RMI">RMI</option>
                     <option value="JMX_RMI">JMX RMI</option>
                 </select>
            </div>
            <div id="formAddPort:fieldsHTTP">
                <select id="formAddPort.protocolsHTTP"
                        data-dojo-type="dijit.form.FilteringSelect"
                        data-dojo-props="
                            name: 'protocols',
                            value: 'HTTP',
                            label: 'HTTP protocol*:',
                            promptMessage: 'HTTP protocol to be associated with this port',
                            title: 'Enter HTTP protocol to be associated with this port'">
                    <option value="HTTP">HTTP</option>
                </select>
            </div>
            <div id="formAddPort:transport" >
                 <select id="formAddPort.transports"
                         data-dojo-type="dijit.form.MultiSelect"
                         data-dojo-props="
                            name: 'transports',
                            label: 'Transport:',
                            placeHolder: 'TCP',
                            value: '',
                            multiple: true,
                            promptMessage: 'Transport(s)',
                            title: 'Select transports'">
                    <option value="TCP">TCP</option>
                    <option value="SSL">SSL</option>
                </select>
            </div>
            <div id="formAddPort:fieldsTransportSSL">
                <select id="formAddPort.keyStore"
                        data-dojo-type="dijit.form.FilteringSelect"
                        data-dojo-props="
                            name: 'keyStore',
                            label: 'Key Store*:',
                            searchAttr: 'name',
                            placeHolder: 'keystore',
                            value: '',
                            required: true,
                            promptMessage: 'Keystore that provides the SSL certificate',
                            title: 'Select the keystore that provides the SSL certificate'">
                </select>
            </div>
            <div id="formAddPort:fieldsClientAuth">
                <div id="formAddPort:fieldsClientAuthCheckboxes">
                 <input id="formAddPort.needClientAuth" type="checkbox"
                        data-dojo-type="dijit.form.CheckBox"
                        data-dojo-props="
                            name: 'needClientAuth',
                            label: 'Need SSL Client Certificate:'" />
                 <input id="formAddPort.wantClientAuth" type="checkbox"
                        data-dojo-type="dijit.form.CheckBox"
                        data-dojo-props="
                            name: 'wantClientAuth',
                            label: 'Want SSL Client Certificate:'" />
                </div>
                <div><strong>Trust Stores:</strong></div>
                <table id="formAddPort.trustStores"
                       data-dojo-type="dojox.grid.EnhancedGrid"
                       data-dojo-props="
                            label: 'Trust Stores:',
                            plugins:{indirectSelection: true},
                            rowSelector:'0px'"
                       style="height: 100px; width:400px">
                        <thead>
                           <tr>
                             <th field="name">Name</th>
                             <th field="peersOnly">Peers Only</th>
                           </tr>
                         </thead>
                </table>
            </div>
            <input type="hidden" id="formAddPort.id" name="id"/>
            </div>
            <div class="dijitDialogPaneActionBar">
            <!-- submit buttons -->
            <input type="submit" value="Save Port" label="Save Port" dojoType="dijit.form.Button" />
            </div>
        </form>
    </div>
</div>
